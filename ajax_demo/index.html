<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>jmg runner</title>
</head>
<body>

<div class="button all_users" onclick="loadDoc()" id='users_button'></div>
<div class="panel users" id='users_panel'></div>
<div class="panel records"></div>
<div class="panel new"></div>
<div class="panel timer"></div>
<div class="panel time"></div>

<script type="text/javascript">
    
    function loadDoc() {
        let url = "http://localhost:5000/api/v1/users"
        let xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                let obj_list = JSON.parse(this.responseText)
                panel = document.getElementById("users_panel")
                for (let user of obj_list) {
                    console.log({user})
                    li = document.createElement('li')
                    li.innerHTML = user.username
                    panel.append(li)
                }
                
              
            }
        };
    
        xhttp.open("GET", url, true);
        xhttp.send();
    }
</script>

</body>
</html>